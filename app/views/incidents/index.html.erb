<div id="pad-wrapper" class="full" ng-controller="IncidentCtrl">

  <!-- table sample -->
  <!-- the script for the toggle all checkboxes from header is located in js/theme.js -->
  <div class="table-products section" style="margin-top:0px; border-top:0px;" id="incidents-section">
    <div class="row head">
      <div class="col-md-12">
        <h4><%= t :recent_incidents %></h4>
      </div>
    </div>

    <div class="row filter-block">
        <table-filter incident-types="incidentTypes" incident-type="incidentType">
        </table-filter>
      <div class="pull-right">
        <a href="<%= new_incident_path %>" class="btn-flat success new-product">
          + <%= t("page.actions.new", name: Incident.model_name.human) %>
        </a>
      </div>
    </div>

    <div class="row">
      <table class="table table-hover" id="incidents-table">
        <thead>
          <tr>
            <th class="col-md-1"><%= Incident.human_attribute_name(:incident_type) %></th>
            <th class="col-md-3"><span class="line"></span><%= Incident.human_attribute_name(:full_address) %></th>
            <th class="col-md-3"><span class="line"></span><%= Incident.human_attribute_name(:occured_at) %></th>
            <th class="col-md-3"><span class="line"></span><%= Incident.human_attribute_name(:description) %></th>
          </tr>
        </thead>
        <tbody>
          <tr class="firstxx" ng-repeat="incident in incidents">
            <td>
              <span class="label label-danger">{{incident.translated_type}}</span>
            </td>
            <td>{{incident.full_address}}</td>
            <td>{{incident.occured_at}}</td>
            <td class="description">{{incident.description}}</td>
          </tr>
        </tbody>
      </table>
    </div>
   
    <pagination total-items="totalItems" page="currentPage" items-per-page="25"
      class="pull-right" on-select-page="setPage(page)"></pagination>

  </div>
  <!-- end table sample -->


</div>
<!-- end pad-wrapper -->

